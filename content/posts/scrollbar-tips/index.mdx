---
slug: scrollbar-tips
title: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’è€ƒæ…®ã—ãŸå…¨å¹…ã®å–å¾—æ–¹æ³•
description: æ‰‹é †ã‚’è§£èª¬ã—ã¦ã„ã¾ã™
createdAt: 2024-10-01
tags: [css]
eyecatch: eyecatch.png
---

### ã¯ã˜ã‚ã«

{/* prettier-ignore */}
<blockquote cite="https://www.w3.org/TR/css-overflow-3/#scrollable-overflow">
This value indicates that the boxâ€™s content is clipped to its padding box and that the UA must not provide any scrolling user interface to view the content outside the clipping region, nor allow scrolling by direct intervention of the user, such as dragging on a touch screen or using the scrolling wheel on a mouse. However, the content must still be scrollable programmatically, for example using the mechanisms defined in [CSSOM-VIEW], and the box is therefore still a scroll container.

ã€Œã“ã®å€¤ã¯ã€ãƒœãƒƒã‚¯ã‚¹ã®å†…å®¹ãŒãã®ãƒ‘ãƒ‡ã‚£ãƒ³ã‚°ãƒœãƒƒã‚¯ã‚¹ã«ã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°ã•ã‚Œã€UA(ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ)ãŒã‚¯ãƒªãƒƒãƒ”ãƒ³ã‚°é ˜åŸŸå¤–ã®å†…å®¹ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æä¾›ã—ã¦ã¯ãªã‚‰ãšã€ã‚¿ãƒƒãƒã‚¹ã‚¯ãƒªãƒ¼ãƒ³ä¸Šã§ã®ãƒ‰ãƒ©ãƒƒã‚°ã‚„ãƒã‚¦ã‚¹ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ›ã‚¤ãƒ¼ãƒ«ã®ä½¿ç”¨ãªã©ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç›´æ¥çš„ãªä»‹å…¥ã«ã‚ˆã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚’è¨±å¯ã—ã¦ã¯ãªã‚‰ãªã„ã“ã¨ã‚’ç¤ºã™ã€‚ã—ã‹ã—ãªãŒã‚‰ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¯ã€ä¾‹ãˆã°[CSSOM-VIEW]ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’ä½¿ã£ã¦ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ çš„ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã§ãªã‘ã‚Œã°ãªã‚‰ãšã€ã—ãŸãŒã£ã¦ã€ãƒœãƒƒã‚¯ã‚¹ã¯ä¾ç„¶ã¨ã—ã¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚³ãƒ³ãƒ†ãƒŠã§ã‚ã‚‹ã€‚ã€

â€” <cite>[Scrolling and Clipping Overflow](https://www.w3.org/TR/css-overflow-3/#scrollable-overflow)</cite>

</blockquote>

> We cannot solve our problems with the same thinking we used when we created them.
>
> @ <cite>Albert Einstein</cite>

<q>ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…ã‚’å–å¾—ã™ã‚‹ã“ã¨ã€‚</q>

https://developer.chrome.com/docs/css-ui/scrollbar-styling?hl=ja#supporting_older_browser_versions

### æ„å¤–ã¨æ‰‹ã“ãšã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®ã‚ã‚Œã“ã‚Œ

ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´æ‰€ãŒãƒšãƒ¼ã‚¸å…¨åŸŸã®å ´åˆã¯ã€ä¸‹è¨˜ã®è¨˜è¿°ã§å–å¾—ã§ãã¾ã™ã€‚

```js title="javascript"
function setScrollbarWidth() {
  // ç”»é¢å¹…ã‚’å–å¾—ã™ã‚‹ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã‚€ï¼‰
  const withScrollbar = window.innerWidth;
  // ç”»é¢å¹…ã‚’å–å¾—ã™ã‚‹ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã¾ãªã„ï¼‰
  const withOutScrollbar = document.body.clientWidth;
  // å–å¾—ã—ãŸç”»é¢å¹…ã®å·®åˆ†ã‹ã‚‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…ãŒè¨ˆç®—ã§ãã‚‹
  const scrollbarWidth = withScrollbar - withOutScrollbar;

  /**
   * CSSã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç™»éŒ²ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰
   * @see {@link https://developer.mozilla.org/ja/docs/Web/API/CSS/registerProperty_static | CSS.registerProperty()}
   * @see {@link https://developer.mozilla.org/ja/docs/Web/CSS/@property | @property}
   */
  window.CSS.registerProperty({
    name: '--scrollbar-width',
    syntax: '<length>',
    inherits: false,
    initialValue: `${scrollbarWidth}px`,
  });
}

window.addEventListener('load', setScrollbarWidth);
window.addEventListener('resize', setScrollbarWidth);
```

`100vw`ã¯`100%`ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®æ¨ªå¹…å…¨ä½“ãŒå–ã‚Œã‚‹ã®ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã‚€æ¨ªå¹…ã€100%ã¯bodyã‚¿ã‚°ã®æ¨ªå¹…100%ãŒå–å¾—ã§ãã‚‹ã®ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã¾ãªã„æ¨ªå¹…ãŒå–å¾—ã§ãã¾ã™ã€‚

ãã‚Œã‚‰ã®å·®ã‚’calcã§è¨ˆç®—ã—ã¦å–ã‚‹ã“ã¨ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å–å¾—ãŒã§ãã¾ã™ã€‚100vwã¯ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆã®æ¨ªå¹…ã«ãªã‚‹ã®ã§ã€ãƒšãƒ¼ã‚¸å…¨ä½“ã«å¯¾ã—ã¦ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã«å¯¾ã—ã¦ã®ã¿ã—ã‹ä½¿ç”¨ã§ãã¾ã›ã‚“ã€‚

```css title="css"
.scrollbar-width {
  width: calc(100vw - 100%);
}
```

```js title="javascript"
// 100vw
const withScrollbar = window.innerWidth;
// 100%
const withOutScrollbar = document.body.clientWidth;
// calc(100vw - 100%)
const scrollbarWidth = withScrollbar - withOutScrollbar;
```

<Playground_1 />

```js title="javascript"
const scrollbarWidth = window.innerWidth - document.body.clientWidth;

console.log(scrollbarWidth);
```

```js title="index.js"
// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã‚€ç”»é¢å¹…ã‚’å–å¾—
const withScrollbar = window.innerWidth;
// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã¾ãªã„ç”»é¢å¹…ã‚’å–å¾—
const withOutScrollbar = document.body.clientWidth;
// å·®åˆ†ã‹ã‚‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®æ¨ªå¹…ã‚’è¨ˆç®—
const scrollbarWidth = withScrollbar - withOutScrollbar;

document.querySelector('span').dataset.width = scrollbarWidth;
```

<Playground_2 />

```css title=".vscode/settings.json"
div {
  border: solid red;
  transform: translate(30px, 20px) rotate(20deg);
  width: 140px;
  height: 60px;
}
```

```json title=".vscode/settings.json" caption="vscode"
{
  // ..
  "tailwindCSS.experimental.classRegex": [
    ["clsx\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"], // [!code --]
    ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
    ["cx\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ]
  // ..
}
```

<Playground_3 />
<Playground_4 />

### ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«2

```js title=".prettierrc.mjs" caption="prettier"
const config = {
  // ..
  plugins: ['prettier-plugin-tailwindcss'], // [!code --]
  tailwindFunctions: ['clsx', 'cn', 'cva', 'cx'], // [!code --]
  // ..
};

export default config;
```

```ts title="cn.ts" showLineNumbers
import { clsx, type ClassValue } from 'clsx'; // [!code --]
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}
```

```tsx title="App.tsx" caption="react" showLineNumbers
import Callout from '@/components/callout';

export default function App() {
  return (
    <main className="grid min-h-dvh place-items-center">
      <div className="w-full">
        <Callout type="info" className="mx-8">
          <p>info</p>
        </Callout>
        <Callout type="warning" className="mx-8">
          <p>warning</p>
        </Callout>
        <Callout type="danger" className="mx-8">
          <p>danger</p>
        </Callout>
      </div>
    </main>
  );
}
```

### Next.jsï¼ˆApp Routerï¼‰ã§ä½¿ç”¨ã™ã‚‹ã«ã¯ï¼Ÿ

Reactã®ã‚¹ãƒˆãƒªã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã¯ã€ç‰¹å®šã®é–‹ç™ºæ™‚ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ ã—ã¦ã€Reactã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ˆã‚Šå …ç‰¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚ã—ã‹ã—ã€ã“ã®ãƒ¢ãƒ¼ãƒ‰ã§ã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒäºŒé‡ã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã€ãã‚ŒãŒåŸå› ã§useEffectãŒè¤‡æ•°å›å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

Reactã®ã‚¹ãƒˆãƒªã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã§ã¯ã€ç‰¹å®šã®å‰¯ä½œç”¨ãŒæ„å›³çš„ã«äºŒé‡ã«å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã«ã¯æ¬¡ã®ã‚ˆã†ãªç›®çš„ãŒã‚ã‚Šã¾ã™ï¼š

å‰¯ä½œç”¨ãŒå®‰å…¨ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚å‰¯ä½œç”¨ãŒç´”ç²‹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ã€‚

ã“ã®ãŸã‚ã€registerPropertyãŒè¤‡æ•°å›å‘¼ã³å‡ºã•ã‚Œã¦ã—ã¾ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚’é¿ã‘ã‚‹ãŸã‚ã«ã€useRefã‚’åˆ©ç”¨ã—ã¦ä¸€åº¦ã ã‘ç™»éŒ²å‡¦ç†ã‚’è¡Œã†ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚
ã‚¹ãƒˆãƒªã‚¯ãƒˆãƒ¢ãƒ¼ãƒ‰ã¯æœ¬ç•ªç’°å¢ƒã«ã¯å½±éŸ¿ã‚’ä¸ãˆã¾ã›ã‚“ã€‚æœ¬ç•ªç’°å¢ƒã§ã¯é€šå¸¸ã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãŒè¡Œã‚ã‚Œã‚‹ãŸã‚ã€å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã®ã¯ä¸»ã«é–‹ç™ºæ™‚ã®ã¿ã§ã™ã€‚

{/* prettier-ignore */}
```tsx title="scrollbar-width-provider.tsx" caption="react" showLineNumbers
'use client';

import { debounce } from 'es-toolkit';
import { useEffect, useRef } from 'react';

interface Props {
  children: React.ReactNode;
}

export function ScrollbarWidthProvider({ children }: Props) {
  // React<StrictMode>ã«ã‚ˆã‚‹ CSS.registerProperty ã®é‡è¤‡å®šç¾©ã‚’é˜²ã
  const isPropertyRegistered = useRef(false);

  useEffect(() => {
    // CSS.registerProperty()ã¯æœ€æ–°ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§å•é¡Œãªãä½œå‹•ã™ã‚‹
    if (window.CSS.registerProperty && !isPropertyRegistered.current) {
      // @propertyã«ã‚ˆã‚‹è¨­å®šã¨åŒæ„ç¾©ã§ã‚ã‚Šã€å‹å®‰å…¨ã«å¤‰æ•°ã‚’å®šç¾©ã§ãã‚‹
      window.CSS.registerProperty({
        name: '--scrollbar-width',
        syntax: '<length>',
        inherits: true,
        initialValue: `${getScrollbarWidth()}px`,
      });
      isPropertyRegistered.current = true;
    } else if (!window.CSS.registerProperty) {
      // å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‚’è€ƒæ…®ã—ã¦æ™®éçš„ãªã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼å®šç¾©ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
      setScrollbarWidth();
    }

    // é »ç¹ãªãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†ã‚’æŠ‘åˆ¶ã™ã‚‹ãŸã‚ã®debounceé–¢æ•°
    const handleResize = debounce(setScrollbarWidth, 200);
    window.addEventListener('resize', handleResize);
    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  return <>{children}</>;
}

/**
 * @return å…¨ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…
 */
function getScrollbarWidth(): number {
  const withScrollbar = window.innerWidth;
  const withOutScrollbar = document.body.clientWidth;
  return withScrollbar - withOutScrollbar;
}

/**
 * @return ç¾åœ¨ã®"--scrollbar-width"ã®å€¤
 */
function getCurrentProperty(): number {
  const computedStyle = getComputedStyle(document.documentElement);
  const currentProperty = computedStyle.getPropertyValue('--scrollbar-width');
  return parseFloat(currentProperty);
}

/**
 * "--scrollbar-width"ã‚’ç¾åœ¨å€¤ã§å†å®šç¾©ã™ã‚‹é–¢æ•°
 */
function setScrollbarWidth() {
  const currentProperty = getCurrentProperty();
  const scrollbarWidth = getScrollbarWidth();
  if (currentProperty !== scrollbarWidth) {
    // <html>ã®styleå±æ€§ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã™ã‚‹
    document.documentElement.style.setProperty(
      '--scrollbar-width',
      `${scrollbarWidth}px`,
    );
  }
}
```

https://developer.mozilla.org/ja/docs/Web/API/CSS/registerProperty_static

https://developer.mozilla.org/ja/docs/Web/CSS/@property

https://es-toolkit.slash.page/

https://ja.react.dev/reference/react/StrictMode

### ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°

#### getScrollbarWidth()

```tsx title="getScrollbarWidth é–¢æ•°" caption="react"
/**
 * @return å…¨ç”»é¢ã®é ˜åŸŸã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…
 */
function getScrollbarWidth(): number {
  // ç”»é¢å¹…ã‚’å–å¾—ã™ã‚‹ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã‚€ï¼‰
  const withScrollbar = window.innerWidth;
  // ç”»é¢å¹…ã‚’å–å¾—ã™ã‚‹ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’å«ã¾ãªã„ï¼‰
  const withOutScrollbar = document.body.clientWidth;
  // å–å¾—ã—ãŸç”»é¢å¹…ã®å·®åˆ†ã‹ã‚‰ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…ãŒè¨ˆç®—ã§ãã‚‹
  return withScrollbar - withOutScrollbar;
}
```

- [window.innerWidth](https://developer.mozilla.org/ja/docs/Web/API/Window/innerWidth)
- [Element.clientWidth](https://developer.mozilla.org/ja/docs/Web/API/Element/clientWidth)

#### getCurrentProperty()

```tsx title="getCurrentProperty é–¢æ•°" caption="react"
/**
 * @return ç¾åœ¨ã®"--scrollbar-width"ã®å€¤
 */
function getCurrentProperty(): number {
  // ç¾åœ¨ã®"--scrollbar-width"ã®å€¤ã‚’å–å¾—
  const computedStyle = getComputedStyle(document.documentElement);
  const currentProperty = computedStyle.getPropertyValue('--scrollbar-width');
  // æ–‡å­—åˆ—ã§æ¸¡ã£ã¦ãã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’æ•°å­—ã«å¤‰æ›ã—ã¦è¿”ã™
  return parseFloat(currentProperty);
}
```

https://developer.mozilla.org/ja/docs/Web/API/Window/getComputedStyle

https://developer.mozilla.org/ja/docs/Web/API/CSSStyleDeclaration/getPropertyValue

#### setScrollbarWidth()

æ–‡æ›¸ã®ãƒ«ãƒ¼ãƒˆè¦ç´ ï¼ˆHTML ã®å ´åˆã¯ `<html>`ï¼‰ã‚’é¸æŠ

{/* prettier-ignore */}
```tsx title="setScrollbarWidth é–¢æ•°" caption="react"
/**
 * "--scrollbar-width"ã‚’ç¾åœ¨å€¤ã§å†å®šç¾©ã™ã‚‹é–¢æ•°
 */
function setScrollbarWidth() {
  // å…¨ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã®å¹…ã‚’å–å¾—
  const currentProperty = getCurrentProperty();
  // ç¾åœ¨ã®"--scrollbar-width"ã®å€¤ã‚’å–å¾—
  const scrollbarWidth = getScrollbarWidth();

  if (currentProperty !== scrollbarWidth) {
    // <html>ã®styleå±æ€§ã«ã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å†è¨­å®šã™ã‚‹
    document.documentElement.style.setProperty(
      '--scrollbar-width',
      `${scrollbarWidth}px`,
    );
  }
}
```

{/* prettier-ignore */}
```tsx title="scrollbar-width-provider.tsx" caption="react" showLineNumbers
'use client';

import { debounce } from 'es-toolkit';
import { useEffect, useRef } from 'react';

interface Props {
  children: React.ReactNode;
}

export function ScrollbarWidthProvider({ children }: Props) {
  // React<StrictMode>ã«ã‚ˆã‚‹ CSS.registerProperty ã®é‡è¤‡å®šç¾©ã‚’é˜²ã
  const isPropertyRegistered = useRef(false);

  useEffect(() => {
    // CSS.registerProperty()ã¯æœ€æ–°ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã§å•é¡Œãªãä½œå‹•ã™ã‚‹
    if (window.CSS.registerProperty && !isPropertyRegistered.current) {
      // @propertyã«ã‚ˆã‚‹è¨­å®šã¨åŒæ„ç¾©ã§ã‚ã‚Šã€å‹å®‰å…¨ã«å¤‰æ•°ã‚’å®šç¾©ã§ãã‚‹
      window.CSS.registerProperty({
        name: '--scrollbar-width',
        syntax: '<length>',
        inherits: true,
        initialValue: `${getScrollbarWidth()}px`,
      });
      isPropertyRegistered.current = true;
    } else if (!window.CSS.registerProperty) {
      // å¤ã„ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¼ã‚’è€ƒæ…®ã—ã¦æ™®éçš„ãªã‚«ã‚¹ã‚¿ãƒ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ¼å®šç¾©ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
      setScrollbarWidth();
    }

    // é »ç¹ãªãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆã®å‡¦ç†ã‚’æŠ‘åˆ¶ã™ã‚‹ãŸã‚ã®debounceé–¢æ•°
    const handleResize = debounce(setScrollbarWidth, 200);
    window.addEventListener('resize', handleResize);
    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  return <>{children}</>;
}
```

```html title="index.htmlï¼ˆå‡ºåŠ›çµæœï¼‰"
<html lang="ja" style="--scrollbar-width: ğŸ¤®;">
  <head>
    <!-- çœç•¥ -->
  </head>
  <body>
    <!-- çœç•¥ -->
  </body>
</html>
```
